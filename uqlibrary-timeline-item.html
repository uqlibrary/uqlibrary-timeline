<link rel="import" href="../polymer/polymer.html">

<!--
Element providing a simple timeline item.

##### Example

    <uqlibrary-timeline-item></uqlibrary-timeline-item>

@element uqlibrary-timeline-item
@blurb Element providing a simple timeline item.
@status alpha
@homepage https://github.com/uqlibrary/uqlibrary-timeline-item
-->
<polymer-element name="uqlibrary-timeline-item" attributes="date class">

  <template if="{{!hidden}}">
    <link rel="stylesheet" href="uqlibrary-timeline-item.css">

    <div class="{{class}}">
      <div horizontal layout>
          <div id="date" vertical layout>
            <div id="day">
              {{day}}
            </div>
            <div id="day-text">
              {{dayText}}
            </div>
          </div>
          <div flex id="item">
            <div id="item-inner">
              <content></content>
            </div>
          </div>
      </div>
    </div>
  </template>

  <script>
    (function() {
      Polymer('uqlibrary-timeline-item', {

        day: '',
        dayText: '',
        dayNames: [
          'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'
        ],
        hidden: false,

        ready: function () {
          this.date = new Date(this.date);

          var now  = new Date();
          now.setHours(48, 0, 0, 0);
          if (this.date.getTime() - now.getTime() <= 0) {
            this.day = this.date.getDate();
            this.dayText = this.dayNames[this.date.getDay()];
          }
        }

      });
    })();
  </script>

</polymer-element>
