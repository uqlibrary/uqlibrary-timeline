<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">

  <title>uqlibrary-timeline</title>

  <script src="../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
  <link rel="import" href="../elements/uqlibrary-timeline.html">
</head>
<body class="fullbleed">

<uqlibrary-timeline></uqlibrary-timeline>

<script>
  (function () {
    document.cookie = "UQLMockData=enabled";
    document.cookie = "UQLMockData-PType=1";
  })();
</script>

<script>
  (function () {

    HTMLImports.whenReady(function () {
      var timeline = document.querySelector('uqlibrary-timeline');

      timeline.addEventListener('event-selected', function (event, data, source) {
        alert("Event: " + event.detail.title);
      });

      var events = [
        {
          id: 1,
          startDate: new Date(new Date().setHours(0, 0, 0, 0)),
          endDate: new Date(new Date().setHours(0, 30, 0, 0)),
          title: "Item title 1",
          subtitle: "Second line"
        },
        {
          id: 2,
          startDate: new Date(new Date().setHours(15, 0, 0, 0)),
          endDate: new Date(new Date().setHours(15, 30, 0, 0)),
          title: "Item title 2",
          subtitle: "Second line"
        },
        {
          id: 3,
          startDate: new Date(new Date().setHours(26, 0, 0, 0)),
          endDate: new Date(new Date().setHours(27, 0, 0, 0)),
          title: "A long item title A long item title A long item title A long item title A long item title ",
          subtitle: "Second line"
        },
        {
          id: 6,
          startDate: new Date(new Date().setHours(72, 0, 0, 0)),
          endDate: new Date(new Date().setHours(73, 30, 0, 0)),
          title: "Item title 6",
          subtitle: "Second line"
        }
      ];

      timeline.events = events;

      setTimeout(function () {
        timeline.push('events', {
          id: 7,
          startDate: new Date(new Date().setHours(49, 0, 0, 0)),
          endDate: new Date(new Date().setHours(50, 0, 0, 0)),
          title: "New Item title",
          subtitle: "Second line"
        });
      }, 1000);

      setTimeout(function () {
        timeline.push('events', {
          id: 8,
          startDate: new Date(new Date().setHours(24, 0, 0, 0)),
          endDate: new Date(new Date().setHours(25, 30, 0, 0)),
          title: "Newer Item title",
          subtitle: "Second line"
        });
      }, 3000);

      setTimeout(function () {
        timeline.push('events', {
          id: 9,
          startDate: new Date(new Date().setHours(192 + 49, 0, 0, 0)),
          endDate: new Date(new Date().setHours(192 + 50, 30, 0, 0)),
          title: "Newer Item title",
          subtitle: "Second line"
        });
      }, 4000);

    });

  }());
</script>

</body>
</html>